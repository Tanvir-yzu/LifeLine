{% extends 'base.html' %}

{% block title %}LifeLine Blood Bank - Home{% endblock %}

{% block meta_description %}Join LifeLine Blood Bank to save lives through blood donation. Find donation centers, check blood availability, and help those in need.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative bg-gradient-to-r from-red-600 via-pink-600 to-red-500 text-white overflow-hidden">
  <!-- Background Image -->
  <div class="absolute inset-0">
    <img 
      src="https://i.ibb.co/k6P5H2FK/hero-blood-bank.jpg" 
      alt="Blood Bank Hero" 
      class="w-full h-full object-cover opacity-20"
    />
  </div>

  <!-- Content -->
  <div class="relative container mx-auto px-4 py-20">
    <div class="max-w-3xl">
      <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
        Save Lives Through
        <span class="block text-red-300 drop-shadow-lg">Blood Donation</span>
      </h1>
      <p class="text-xl mb-8 text-white/90 leading-relaxed">
        Connect with donors and recipients in your community. Every donation can save up to three lives.
      </p>

      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row gap-4">
        <!-- Find Donors Button -->
        <a href="/donors" class="inline-flex items-center justify-center px-8 py-3 rounded-lg bg-white text-red-600 font-semibold text-lg shadow hover:bg-gray-100 transition">
          <!-- Heart Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path d="M12 21C12 21 4 13.5 4 8.5C4 6.01472 6.01472 4 8.5 4C10.364 4 12 5.5 12 5.5C12 5.5 13.636 4 15.5 4C17.9853 4 20 6.01472 20 8.5C20 13.5 12 21 12 21Z" />
          </svg>
          Find Donors
        </a>

        <!-- Become a Donor Button -->
        <a href="/register" class="inline-flex items-center justify-center px-8 py-3 rounded-lg border border-white/20 text-white text-lg font-semibold bg-white/10 hover:bg-white/20 transition">
          Become a Donor
        </a>
      </div>
    </div>
  </div>
</section>


<!-- Stats Section -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      
      <!-- Stat 1 -->
      <div class="text-center">
        <div class="bg-gradient-to-r from-red-500 to-pink-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <!-- Users Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-3-3.87M9 21v-2a4 4 0 0 1 3-3.87M9 7a4 4 0 1 0 6 0a4 4 0 0 0-6 0Zm12 14v-2a6 6 0 0 0-9-5.197M3 21v-2a6 6 0 0 1 9-5.197" />
          </svg>
        </div>
        <div class="text-3xl font-bold text-red-600 mb-2">1,247</div>
        <div class="text-gray-600">Active Donors</div>
      </div>

      <!-- Stat 2 -->
      <div class="text-center">
        <div class="bg-gradient-to-r from-red-500 to-pink-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <!-- Heart Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path d="M12 21C12 21 4 13.5 4 8.5C4 6.01472 6.01472 4 8.5 4C10.364 4 12 5.5 12 5.5C12 5.5 13.636 4 15.5 4C17.9853 4 20 6.01472 20 8.5C20 13.5 12 21 12 21Z" />
          </svg>
        </div>
        <div class="text-3xl font-bold text-red-600 mb-2">3,741</div>
        <div class="text-gray-600">Lives Saved</div>
      </div>

      <!-- Stat 3 -->
      <div class="text-center">
        <div class="bg-gradient-to-r from-red-500 to-pink-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <!-- Award Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="8" r="6" />
            <path d="M8.21 13.89L7 23l5-3 5 3-1.21-9.11" />
          </svg>
        </div>
        <div class="text-3xl font-bold text-red-600 mb-2">98%</div>
        <div class="text-gray-600">Success Rate</div>
      </div>

      <!-- Stat 4 -->
      <div class="text-center">
        <div class="bg-gradient-to-r from-red-500 to-pink-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <!-- Clock Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10" />
            <polyline points="12 6 12 12 16 14" />
          </svg>
        </div>
        <div class="text-3xl font-bold text-red-600 mb-2">24/7</div>
        <div class="text-gray-600">Available</div>
      </div>

    </div>
  </div>
</section>


<!-- Donors Section -->
<section class="py-16">
  <div class="container mx-auto px-4">
    
    <!-- Heading -->
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold mb-4 text-gray-900">Available Donors</h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        Find compatible donors in your area. All donors are verified and ready to help.
      </p>
    </div>

    <!-- Filters -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-8">
      <select id="bloodGroupFilter" class="px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-red-500">
        <option value="All">All Blood Groups</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
      </select>

      <input 
        id="searchInput"
        type="text" 
        placeholder="Search by name or location..." 
        class="px-4 py-2 border rounded-lg w-full sm:w-64 focus:ring-2 focus:ring-red-500"
      />
    </div>

    <!-- Donors Grid -->
    <div id="donorsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

    <!-- Empty State -->
    <div id="emptyState" class="hidden text-center py-12">
      <p class="text-gray-600 text-lg">No donors found matching your criteria.</p>
      <button id="clearFilters" class="mt-4 px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">
        Clear Filters
      </button>
    </div>

  </div>
</section>

<script>
  // Mock data for donors
  const mockDonors = [
    { id: "1", name: "John Smith", bloodGroup: "O+", location: "New York, NY", lastDonation: "2 months ago", isAvailable: true, age: 28, phone: "+1 (555) 123-4567" },
    { id: "2", name: "Sarah Davis", bloodGroup: "A-", location: "Los Angeles, CA", lastDonation: "3 months ago", isAvailable: true, age: 32, phone: "+1 (555) 987-6543" },
    { id: "3", name: "Michael Johnson", bloodGroup: "B+", location: "Chicago, IL", lastDonation: "1 month ago", isAvailable: false, age: 25, phone: "+1 (555) 456-7890" },
    { id: "4", name: "Emily Brown", bloodGroup: "AB+", location: "Houston, TX", lastDonation: "4 months ago", isAvailable: true, age: 29, phone: "+1 (555) 234-5678" },
    { id: "5", name: "David Wilson", bloodGroup: "O-", location: "Phoenix, AZ", lastDonation: "6 weeks ago", isAvailable: true, age: 35, phone: "+1 (555) 345-6789" },
    { id: "6", name: "Lisa Anderson", bloodGroup: "A+", location: "Philadelphia, PA", lastDonation: "2 months ago", isAvailable: true, age: 27, phone: "+1 (555) 567-8901" }
  ];

  const donorsGrid = document.getElementById("donorsGrid");
  const emptyState = document.getElementById("emptyState");
  const searchInput = document.getElementById("searchInput");
  const bloodGroupFilter = document.getElementById("bloodGroupFilter");
  const clearFilters = document.getElementById("clearFilters");

  function renderDonors(donors) {
    donorsGrid.innerHTML = "";
    if (donors.length === 0) {
      emptyState.classList.remove("hidden");
      return;
    }
    emptyState.classList.add("hidden");
    donors.forEach(donor => {
      const card = document.createElement("div");
      card.className = "bg-white rounded-xl shadow p-6 text-center";
      card.innerHTML = `
        <div class="w-16 h-16 mx-auto rounded-full bg-red-100 flex items-center justify-center text-xl font-bold text-red-600 mb-4">
          ${donor.bloodGroup}
        </div>
        <h3 class="text-xl font-semibold text-gray-900">${donor.name}</h3>
        <p class="text-gray-600">${donor.location}</p>
        <p class="text-gray-500 text-sm mt-2">Last Donation: ${donor.lastDonation}</p>
        <p class="text-gray-500 text-sm">Age: ${donor.age}</p>
        <p class="text-sm ${donor.isAvailable ? "text-green-600" : "text-red-600"}">
          ${donor.isAvailable ? "Available" : "Not Available"}
        </p>
        <a href="tel:${donor.phone}" class="inline-block mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition">
          Contact
        </a>
      `;
      donorsGrid.appendChild(card);
    });
  }

  function applyFilters() {
    const searchTerm = searchInput.value.toLowerCase();
    const bloodGroup = bloodGroupFilter.value;
    const filtered = mockDonors.filter(donor => {
      const matchesBlood = bloodGroup === "All" || donor.bloodGroup === bloodGroup;
      const matchesSearch = donor.name.toLowerCase().includes(searchTerm) || donor.location.toLowerCase().includes(searchTerm);
      return matchesBlood && matchesSearch;
    });
    renderDonors(filtered);
  }

  // Event listeners
  searchInput.addEventListener("input", applyFilters);
  bloodGroupFilter.addEventListener("change", applyFilters);
  clearFilters.addEventListener("click", () => {
    searchInput.value = "";
    bloodGroupFilter.value = "All";
    applyFilters();
  });

  // Initial render
  renderDonors(mockDonors);
</script>

{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
    // Additional JavaScript specific to home page can go here
    console.log('Home page loaded successfully');
</script>
{% endblock %}